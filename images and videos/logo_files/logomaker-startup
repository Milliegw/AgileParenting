window.Application=function(){function v(){c||s({});FLDApp.startup("app");FLDApp.initDebug()}function u(n,t){var u=et(),r=!!u,i,f,e,o;return n=it(n),i=FLDApp.getConfig(),f=r&&i.metadata&&i.metadata.purchased,f&&(e=i.initialState.icon.id,o=n.model.icon&&n.model.icon.id,e!==o&&(r=!1)),r?tt(u,n):nt(n,t)}function g(){function t(n,t){for(var r=[],f=n.length,e=new Array(f),u,i,o;n.length>0;)i=n.splice(0,t),i.length>0&&r.push(i);u=r.length;for(let n=0;n<f;n++)i=r[n%u],i.length===0&&(u--,i=r[n%u]),o=i.shift(),e[n]=o;return e}function i(n){return n&&n.length!==0?n.map(function(n){return{id:n.Id,type:"noun",svgSrc:"NOUN:"+n.Id,pngSrc:n.PngUrl}}):[]}var n=null;FLDApp.on("finish",function(n){u(n).then(function(n){y(n)})});FLDApp.on("purchase",function(n){u(n,!0).then(function(n){y(n)})});FLDApp.on("save",u);FLDApp.on("preview",function(t){n&&(n=n.destroy());n=window.Preview.init(t)});FLDApp.on("previewclose",function(){n&&(n=n.destroy())});FLDApp.on("previewupdate",function(t){n&&(n=n.reset(t))});FLDApp.handle("preview_html",function(){return FLDApp.get(l+"/preview-partial").then(function(n){return n.text&&n.text()}).then(function(n){return new Promise(function(t){ScriptLoader.load("https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js",function(){ScriptLoader.load("/Scripts/lib/slick.min.js",function(){window.Preview=PreviewInitializer();t(n)})})})})});FLDApp.handle("keywords_search",function(n){return FLDApp.post("/nounproject/relatedsearch",{term:n}).then(function(n){return n.json()}).then(function(n){return n.obj!=null?n.obj:[]})});FLDApp.handle("icons_search_from_keywords",function(n){var r=n.keywords,f=n.pageIndex,u;return r.length===0?[]:(u=r.map(function(n){return{term:n,limit:200,offset:0,page:f+1}}),FLDApp.post("/nounproject/searchs",u).then(function(n){return n.json?n.json():[]}).then(function(n){if(n&&n.obj)return t(n.obj,100)}).then(i))});FLDApp.handle("icon_svg",function(n){var u=e[n],f=u&&r.querySelector("#"+u),t,i;return f?FLDApp.getOuterSVG(f):n.indexOf("NOUN:")===0?(t=n.split(":")[1],i=a[t],i||(i=a[t]=FLDApp.post("/nounproject/svg",{Id:t})),i.then(function(n){return n.json()})):FLDApp.get(n).then(function(n){return n.text()})});FLDApp.handle("watermark",function(){return FLDApp.get("/logomaker/watermark").then(function(n){return n.text()})});FLDApp.handle("load_categoriescollection",function(){return window.__businessCategories?window.__businessCategories:FLDApp.get("/logomaker/businesscategories").then(function(n){return n.json?n.json():null}).catch(function(){return[]}).then(function(n){return window.__businessCategories=n,n})});FLDApp.handle("load_termscollection",function(){return window.__termsCollection?window.__termsCollection:FLDApp.get("/logomaker/termscollection").then(function(n){return n.json?n.json():null}).catch(function(){return[]}).then(function(n){return window.__termsCollection=n,n})});FLDApp.handle("locale",function(){return null});FLDApp.handle("share_logo",function(n){var t=f();return FLDApp.post(d,{guid:t.publicGuid,emails:n.emails,fromclient:n.name,language:n.lang||"en",captcha:n.captcha}).then(function(n){return n.json&&n.json()})});FLDApp.handle("share_logo_link",function(n){return u(n).then(function(){var n=f();return n?"https://www.freelogodesign.org/share-preview/"+n.publicGuid:null})})}function nt(n,t){return FLDApp.post("/logomaker/create",{NounIdList:ft(n.model),Model:JSON.stringify(n.model),Context:JSON.stringify(n.context),Svg:n.svg}).then(function(n){return n.json?n.json():n.text?n.text():void 0}).then(function(n){if(n.status)return t||(FLDApp.history.replace(FLDApp.routePath("editorLogo",location.search,{guid:n.obj.Guid})),FLDApp.clearStoredProject()),window.__initialLogo=null,window.__logo=n.obj,n.obj.Guid;throw new Error("Failed to create logo.");}).catch(function(n){console.error(n)})}function tt(n,t){return FLDApp.post("/logomaker/update",{Guid:n,Model:JSON.stringify(t.model),Context:JSON.stringify(t.context),Svg:t.svg}).then(function(n){return n.json?n.json():n.text?n.text():void 0}).then(function(t){if(t.status)return n;throw new Error("Failed to update logo "+n);}).catch(function(n){console.error(n)})}function it(n){var t=rt(n.svg);for(let n=0;n<o.length;n++)ut(o[n],t);return n.svg=FLDApp.getOuterSVG(t),n}function rt(n){var t=document.createElement("div");return t.innerHTML=n,t.getElementsByTagName("svg")[0]||null}function ut(n,t){var u="FLDSRC_"+n.toUpperCase(),r,i=FLDApp.refs.find(n,t);i instanceof SVGElement&&(r=i.tagName==="svg"?i:i.getElementsByTagName("svg")[0],r&&r.setAttribute("id",u))}function y(n){location.href=b+"?ne=1&logo="+n}function ft(n){return!n||!n.icon?[]:[n.icon.id]}function f(){if(window.__initialLogo)return window.__initialLogo;var n=window.__logo;return n?window.__initialLogo={guid:n.Guid,publicGuid:n.PublicGuid,purchased:n.Purchased,model:JSON.parse(n.SerializedModel),svg:n.Svg}:null}function s(n){var t=n?ot(p,n):p;FLDApp.config(t);g();c=!0}function et(){if(location.pathname.indexOf("/editor/logo/")<0)return null;var n=f();return n?n.guid:null}function ot(n,t){for(var r,u=Object.keys(t),i=0,f=u.length;i<f;i++)r=u[i],n[r]=t[r];return n}function w(n,t,i,r){return{family:n,weight:i,style:r,src:"/Content/clientfonts/"+t}}function st(){var t=i,r,u=function(n){return w.apply(null,n)},n;for(n in i)r=t[n],t[n]=r.map(u);return i.modern}function ht(){var t=[],n;for(n in i)t.push({key:n,name:n[0].toUpperCase()+n.substr(1,n.length),fonts:i[n].map(function(n){return w.apply(null,n)})});return t}var c=!1,b=__constants.URL_PREVIEW,k=__constants.URL_WEBSITE,d=__constants.URL_SHARE,l=__constants.URL_BASE,r=null,e={},a={},o;window.addEventListener("load",function(){var n=f(),t;n?(s({metadata:{guid:n.guid,purchased:n.purchased},initialState:n.model}),n.svg&&(t=document.createElement("div"),t.innerHTML=n.svg,t.style.display="none",r=t.getElementsByTagName("svg")[0],r&&r.removeAttribute("id"),e[n.model.icon.svgSrc]="FLDSRC_ICON",e[n.model.shape.src]="FLDSRC_SHAPE"),v()):(s({}),v())});o=["icon","shape"];var n="italic",t="bold",h="normal",i={modern:[["Changa","changa.woff"],["Exo","exo.woff"],["Fjalla One","fjallaone.woff"],["Maven Pro","mavenpro.woff"],["Merriweather Sans","merriweathersans.woff"],["Monda","monda.woff"],["Montserrat","montserrat.woff"],["Open Sans","opensans.woff"],["Open Sans","opensans-italic.woff",h,n],["Open Sans","opensans-bold.woff",t],["Open Sans","opensans-bold-italic.woff",t,n],["Oswald","oswald.woff"],["Raleway","raleway.woff"],["Roboto Condensed","robotocondensed.woff"],["Roboto Medium","roboto.woff"],["Secular One","secularone.woff"],["Signika","signika.woff"],["Source Sans Pro","sourcesanspro.woff"],["Titillium Web","titilliumweb.woff"],["Ubuntu","ubuntu.woff"],["Ubuntu","ubuntu-italic.woff",h,n],["Ubuntu","ubuntu-bold.woff",t],["Ubuntu","ubuntu-bold-italic.woff",t,n],["Unica One","unicaone.woff"],["Work Sans","worksans.woff"]],storybook:[["Alegreya","alegreya.woff"],["Alice","alice.woff"],["Averia Serif Libre","averiaseriflibre.woff"],["Bitter","bitter.woff"],["Bree Serif","breeserif.woff"],["Cinzel","cinzel.woff"],["Corben","corben.woff"],["Flamenco","flamenco.woff"],["Glass Antiqua","glassantiqua.woff"],["Josefin Slab","josefinslab-italic.woff",h,n],["Josefin Slab","josefinslab-bold.woff",t],["Josefin Slab","josefinslab-bold-italic.woff",t,n],["Karma","karma.woff"],["Libre Baskerville","librebaskerville.woff"],["Merriweather","merriweather.woff"],["Nixie One","nixieone.woff"],["Noticia Text","noticiatext.woff"],["Rakkas","rakkas.woff"],["Roboto Slab","robotoslab.woff"],["Simonetta","simonetta.woff"],["Slabo 27px","slabo27px.woff"]],poster:[["Shrikhand","shrikhand.woff"],["Bangers","bangers.woff"],["Creepster","creepster.woff"],["Diplomata SC","diplomatasc.woff"],["Fontdiner Swanky","fontdinerswanky.woff"],["Germania One","germaniaone.woff"],["Lilita One","lilitaone.woff"],["Miltonian Tattoo","miltoniantattoo.woff"],["Pirata One","pirataone.woff"],["Rye","rye.woff"],["Sancreek","sancreek.woff"],["Trade Winds","tradewinds.woff"]],handwritten:[["Galada","galada.woff"],["Allan","allan.woff"],["Arima Madurai","arimamadurai.woff"],["Croissant One","croissantone.woff"],["Dynalight","dynalight.woff"],["Fugaz One","fugazone.woff"],["Grand Hotel","grandhotel.woff"],["Great Vibes","greatvibes.woff"],["Lobster","lobster.woff"],["Lobster Two","lobstertwo.woff"],["Montez","montez.woff"],["Niconne","niconne.woff"],["Oleo Script Swash Caps","oleoscriptswashcaps.woff"],["Pacifico","pacifico.woff"],["Parisienne","parisienne.woff"],["Permanent Marker","permanentmarker.woff"],["Playball","playball.woff"],["Reenie Beanie","reeniebeanie.woff"],["Yellowtail","yellowtail.woff"]],futuristic:[["Orbitron","orbitron.woff"],["Audiowide","audiowide.woff"],["Iceland","iceland.woff"],["Kelly Slab","kellyslab.woff"],["Nova Square","novasquare.woff"],["Offside","offside.woff"],["Sarpanch","sarpanch.woff"],["Squada One","squadaone.woff"],["Teko","teko.woff"],["Tulpen One","tulpenone.woff"]],rounded:[["Coiny","coiny.woff"],["Baloo Bhai","baloobhai.woff"],["Chango","chango.woff"],["Chela One","chelaone.woff"],["Chicle","chicle.woff"],["Emilys Candy","emilyscandy.woff"],["Fascinate","fascinate.woff"],["Fredoka One","fredokaone.woff"],["Henny Penny","hennypenny.woff"],["Kavoon","kavoon.woff"],["Lemon","lemon.woff"],["Modak","modak.woff"],["Mogra","mogra.woff"],["Paprika","paprika.woff"],["Salsa","salsa.woff"],["Titan One","titanone.woff"]]},p={routes:{basePath:l,website:k},colorThemes:[{key:"retro",name:"Retro",colors:["#ff3036","#00a884","#ff6e2f","#ffc300","#ef9b55","#f1e9c5","#30211c","#001e50","#433f40","#571845","#900c3e","#8da648"]},{key:"pastel",name:"Pastel",colors:["#533d5b","#be98cc","#73b982","#baffc9","#75c9cc","#afdfdb","#384d5a","#94b0e0","#ffffba","#b95f76","#f2a3b7","#fbdcce"]},{key:"forest",name:"Forest",colors:["#2f4d2d","#5f7e66","#8fa479","#463d2e","#d19b3f","#e3cc89","#772b2b","#9b5050","#3c4969","#6f7fa5","#999788","#c9c1b6"]},{key:"summer",name:"Summer",colors:["#ff598f","#fd8a5e","#e0e300","#01dddd","#c7f465","#cb2d30","#0d496b"]},{key:"rain",name:"Rain",colors:["#263b46","#90b2ba","#363b41","#8d9296","#463443","#bab6ba","#385458","#d5e8e4"]},{key:"modern",name:"Modern",colors:["#2e3440","#3b4252","#bf616a","#a3be8c","#ebcb8b","#81a1c1","#b48ead","#88c0d0","#e5e9f0"]},{key:"night_sky",name:"Night Sky",colors:["#131862","#0056ad","#45379e","#bea9de","#ecf0f1","#8f0f4b","#c46078","#350a3c","#387975","#67efd7"]},{key:"flame",name:"Flame",colors:["#8f0707","#e48a15","#e4ac15","#af3d0b","#8f0721","#0b162c"]}],fontThemes:ht(),fonts:st(),generator:{shapeIds:[1,8,9,10,13,14,16,20,23,25,61,69,28,29,31,66,67,53,54,55,68,65,70,71]},shapes:[{id:1,type:"circle",backlight:!0},{id:2,type:"circle",backlight:null},{id:3,type:"circle",backlight:!0},{id:4,type:"circle",backlight:null},{id:5,type:"circle",backlight:null},{id:8,type:"circle",backlight:null},{id:9,type:"circle",backlight:!0},{id:10,type:"circle",backlight:null},{id:11,type:"circle",backlight:null},{id:12,type:"circle",backlight:null},{id:13,type:"circle",backlight:!0},{id:14,type:"circle",backlight:null},{id:15,type:"circle",backlight:null},{id:16,type:"circle",backlight:!0},{id:17,type:"circle",backlight:!0},{id:18,type:"circle",backlight:null},{id:19,type:"circle",backlight:!0},{id:20,type:"circle",backlight:null},{id:21,type:"circle",backlight:null},{id:22,type:"circle",backlight:null},{id:23,type:"circle",backlight:!0},{id:24,type:"circle",backlight:null},{id:25,type:"circle",backlight:!0},{id:26,type:"circle",backlight:null},{id:27,type:"circle",backlight:null},{id:61,type:"circle",backlight:null},{id:69,type:"circle",backlight:!0},{id:28,type:"square",backlight:!0},{id:29,type:"square",backlight:null},{id:30,type:"square",backlight:null},{id:31,type:"square",backlight:null},{id:32,type:"square",backlight:null},{id:33,type:"square",backlight:!0},{id:34,type:"square",backlight:null},{id:35,type:"square",backlight:null},{id:36,type:"square",backlight:!0},{id:37,type:"square",backlight:null},{id:38,type:"square",backlight:null},{id:39,type:"square",backlight:!0},{id:40,type:"square",backlight:!0},{id:41,type:"square",backlight:!0},{id:42,type:"square",backlight:!0},{id:43,type:"rectangle",backlight:!0},{id:44,type:"rectangle",backlight:null},{id:45,type:"rectangle",backlight:null},{id:46,type:"rectangle",backlight:null},{id:47,type:"rectangle",backlight:!0},{id:48,type:"rectangle",backlight:null},{id:49,type:"rectangle",backlight:!0},{id:50,type:"rectangle",backlight:null},{id:51,type:"rectangle",backlight:null},{id:52,type:"rectangle",backlight:null},{id:53,type:"rectangle",backlight:!0},{id:54,type:"rectangle",backlight:null},{id:55,type:"rectangle",backlight:!0},{id:64,type:"rectangle",backlight:!0},{id:66,type:"square",backlight:!0},{id:67,type:"square",backlight:!0},{id:68,type:"rectangle",backlight:null},{id:56,type:"polygon",backlight:!0},{id:57,type:"polygon",backlight:!0},{id:58,type:"polygon",backlight:null},{id:59,type:"polygon",backlight:!0},{id:60,type:"polygon",backlight:!0},{id:62,type:"polygon",backlight:!1},{id:63,type:"polygon",backlight:!1},{id:65,type:"polygon",backlight:!0},{id:70,type:"polygon",backlight:!0},{id:71,type:"polygon",backlight:!0}].map(function(n){return n.src="/Content/shapefiles/shape_"+n.id+".svg",n})};return{app:FLDApp,getConfig:FLDApp.getConfig}}();var PreviewInitializer=function(){function i(n,t){var i=nt.bind(this);f||(f=ScriptLoader.eval("previewScope"));this._initialData=n;this._container=$("#previewPlaceholder .preview-container");this._svg=$(h(n.svg));this._svgBlackWhite=u(this._svg.clone());this._model=n.model;this.viewport=i("viewport",".preview-viewport-inner");this.viewportList=i("viewportList",".preview-viewport .preview-image-list");this.nav=i("nav",".preview-nav");this.navList=i("navList",".preview-nav .preview-image-list");t?(this._container.html(t),this._containerHtml=t):this._containerHtml=this._container.html();s.call(this)}function c(i){return t({className:"preview-default",svg:i.svg,background:i.background,transform:new n({scale:.5})})}function l(i){return t({svg:i.svg,background:i.background,transform:new n({translateX:"1%",translateY:"-18.75%",rotateX:-42,rotateZ:-27,scale:.25})})}function a(i){return t({className:"img-over",svg:u(i.svg,!0),background:i.background,transform:new n({translateX:"8%",translateY:"-12.75%",rotateX:-20,rotateZ:18,scale:.3})})}function v(i){return t({className:"img-over",svg:i.svg,background:i.background,transform:new n({translateX:"0.7%",translateY:"-10.3%",scale:.108})})}function y(i){return t({svg:i.svg,background:i.background,transform:new n({translateX:"-6%",translateY:"-19%",rotateX:30,rotateY:26,rotateZ:2,scale:.3})})}function p(i){return t({className:"img-over",svg:u(i.svg,!1),background:i.background,transform:new n({translateY:"-8%",scale:.55})})}function w(i){return t({svg:i.svg,background:i.background,transform:new n({translateY:"-24%",scale:.3})})}function b(i){var r=t({className:"img-over",svg:u(i.svg,!0),background:i.background,transform:new n({translate:"5%, -8%",rotateX:30,rotateY:0,rotateZ:19,scale:.21})}),f=r.find("svg").first().clone().attr("class","svg-stamp").attr("style",new n({translate:"-12%, -20.5%",rotateX:-32,rotateY:50,rotateZ:70,scaleX:-.19,scaleY:.19}).toString());return r.append(f),r}function nt(n,t){return Object.defineProperty(this,n,{get:function(){return this._container.find(t)}})}function r(n){return parseFloat(n)||0}function n(n){n.translate&&(this.translate=n.translate);n.translateX&&(this.translateX=n.translateX);n.translateY&&(this.translateY=n.translateY);n.translateZ&&(this.translateZ=n.translateZ);n.rotateX&&(this.rotateX=r(n.rotateX)+"deg");n.rotateY&&(this.rotateY=r(n.rotateY)+"deg");n.rotateZ&&(this.rotateZ=r(n.rotateZ)+"deg");n.scale&&(this.scale=typeof n.scale=="undefined"?1:r(n.scale));n.scaleX&&(this.scaleX=typeof n.scaleX=="undefined"?1:r(n.scaleX));n.scaleY&&(this.scaleY=typeof n.scaleY=="undefined"?1:r(n.scaleY))}var f=null,o={"default.png":c,"cartes.png":l,"feuille.png":a,"iphone.jpg":v,"magasin.png":y,"site.png":p,"t-shirt.png":w,"tampon.png":b},e;i.init=function(n,t){return new i(n,t)};i.prototype.reset=function(n){var t=$.extend({},this._initialData,n),r=this._containerHtml;return this.destroy(),i.init(t,r)};i.prototype.destroy=function(){return this._svg.remove(),this.viewportList.off("setPosition"),this.navList.off("click"),this.viewportList.slick("unslick"),this.navList.slick("unslick"),this._container.empty(),this._svg=null,this._container=null,null};var s=function(){var n=d(f.images,{svg:this._svg,backgroundColor:this._model.palette.background}),t=n.clone();this.viewport.append(n);this.nav.append(t);g.call(this)},h=function(n){var i=document.createElement("div"),t;return i.innerHTML=n,t=i.getElementsByTagName("svg")[0],t&&t.removeAttribute("id"),t},u=function(n,t){var i=t?"#000000":"#FFFFFF",r=t?"#FFFFFF":"#000000";return n.find("rect").first().remove(),n.find('[fill]:not([class="$wm$"])').each(function(n,t){var u=$(t),f=u.attr("fill"),e=parseFloat(u.attr("data-mask"));isNaN(e)&&(e=1);(f&&f!=="none"||f!=="transparent")&&u.attr("fill",e>0?i:r)}),n};var k=new n({translateX:16,translateY:-36,translateZ:10,rotateX:-40,rotateZ:-28}),d=function(n,t){for(var u=$('<ul class="preview-image-list"><\/ul>'),s=t&&t.backgroundColor||"#ffffff",i=0,f=n.length;i<f;i++){var e=n[i],h=o[e.name],r=$("<li><\/li>");r.append(h({svg:$(t.svg).clone(),transform:k,background:e.url}));r.css({backgroundColor:s});u.append(r)}return u},t=function(n){var t=$('<div class="preview-image '+(n.className||"")+'"><\/div>'),r=$('<img class="preview-image-bg '+n.className+'" src="'+n.background+'"/>'),i=n.svg;return n.transform&&i.attr("style",n.transform.toString()),t.append(i),n.background&&n.background!=="none"&&t.append(r),t},g=function(){var n=this;this.viewportList.slick({infinite:!1,speed:300,slidesToShow:1,slidesToScroll:1,prevArrow:'<i class="slick-prev fas fa-chevron-left"><\/i>',nextArrow:'<i class="slick-next fas fa-chevron-right"><\/i>',asNavFor:this.navList});this.viewportList.on("setPosition",function(t,i){var r=i.getCurrent();n.navList.find("li[data-slick-index]").removeClass("selected");n.navList.find("li[data-slick-index="+r+"]").addClass("selected")});this.navList.slick({infinite:!1,speed:300,slidesToShow:6,slidesToScroll:1,swipe:!0,swipeToSlide:!0,prevArrow:"",nextArrow:"",asNavFor:this.viewportList,centerMode:!1,focusOnSelect:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3.5}},{breakpoint:425,settings:{slidesToShow:3.5}}]})};return e=["-webkit-","-moz-","-ms-","-o-",""],n.prototype.toString=function(){for(var i=[],t=Object.keys(this),r,n=0;n<t.length;n++)i.push(t[n]+"("+this[t[n]]+")");return r=i.join(" "),e.map(function(n){return n+"transform: "+r+";"}).join("")},i},ScriptLoader=function(){function t(n,t){var r=document.createElement("script"),u=i(n,t),f=document.getElementsByTagName("head")[0];r.onreadystatechange=function(){this.readyState=="complete"&&u()};r.onload=u;r.type="text/javascript";r.src=n;f.appendChild(r)}var n=[],i=function(t,i){return function(){n.indexOf(t)>-1||(n.push(t),i())}},r=function(n){var t=document.getElementById(n);return t?(eval.call(window,t.innerText),__scope):null};return{load:t,eval:r}}()